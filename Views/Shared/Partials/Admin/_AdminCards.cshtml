@model MovieSite.Models.AdminDashboardModel

<div class="row g-4">
    <div class="col-md-4">
        <div class="card shadow-sm text-center border-primary h-100 card1">
            <div class="card-body">
                <div class="mb-3 text-primary">
                    <i class="fas fa-film fa-3x"></i>
                </div>
                <h5 class="card-title fw-bold text-primary">Toplam Film Sayısı</h5>
                <p class="display-4 fw-bold count" data-target="@Model.TotalMovies">0</p>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm text-center border-success h-100">
            <div class="card-body">
                <div class="mb-3 text-success">
                    <i class="fas fa-comments fa-3x"></i>
                </div>
                <h5 class="card-title fw-bold text-success">Toplam Yorum Sayısı</h5>
                <p class="display-4 fw-bold count" data-target="@Model.TotalComments">0</p>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm text-center border-warning h-100">
            <div class="card-body">
                <div class="mb-3 text-warning">
                    <i class="fas fa-users fa-3x"></i>
                </div>
                <h5 class="card-title fw-bold text-warning">Toplam Kullanıcı Sayısı</h5>
                <p class="display-4 fw-bold count" data-target="@Model.TotalUsers">0</p>
            </div>
        </div>
    </div>
</div>

<style>
    .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
        cursor: pointer;
    }


    .card {
        transition: all 0.3s ease;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const counters = document.querySelectorAll('.count');
        counters.forEach(counter => {
            const updateCount = () => {
                const target = +counter.getAttribute('data-target');
                const count = +counter.innerText;

                // Hız ayarı, ne kadar küçük o kadar hızlı
                const speed = 50; 

                // Aradaki farkı hesapla
                const increment = Math.ceil(target / speed);

                if(count < target){
                    counter.innerText = count + increment > target ? target : count + increment;
                    setTimeout(updateCount, 20);
                } else {
                    counter.innerText = target;
                }
            };

            updateCount();
        });
    });
</script>
